# ⚔️ 模组机制设计文档：枪道·归元 (Spear: Origin)

**版本**：v1.1 (机制修正版)

**核心理念**：以“转数枷锁”限制境界，以“材质飞升”突破瓶颈，以“双孔位镶嵌”构建流派。

------

## 一、 核心循环：转数与飞升 (The Progression Loop)

本模组采用**“材质-转数双向绑定”**机制。材质决定了转数的上限，而转数决定了材质晋升的资格。

### 1. 基础概念：转数 (Turns)

转数代表神兵内部积攒的“器韵”。

- **获取方式**：武器耐久度耗尽（进入`[破损]`状态）后，在**神兵重铸台**消耗同级材料修复。
- **效果**：修复后武器恢复满耐久，**转数 +1**。每一转都会增加基础攻击力或特殊属性。
- **转数枷锁 (Turn Cap)**：**关键机制**。每种材质都有其能够承受的“最大转数”。
    - *例如：木枪最多只能练到 1转。达到 1转后，即使耐久耗尽并修复，转数也不会再增加，必须进行“飞升”。*

### 2. 境界突破：材质飞升 (Ascension)

当武器达到当前材质的转数上限时，必须进行“飞升”才能继续变强。

- **飞升条件**：
    1. **转数达标**：武器必须达到当前材质的**最大转数**（如木枪必须是 1转）。
    2. **核心材料**：在重铸台放入**下一阶级的核心材料**（如木枪+圆石）。
- **飞升结果**：
    - **材质变更**：Wood -> Stone -> Copper -> Iron -> Gold -> Diamond -> Netherite。
    - **转数保留**：**飞升后转数完全保留**。
        - *例：1转木枪飞升后变为 1转石枪（而不是0转）。*
    - **枷锁解除**：获得新的转数上限，可以继续通过修复提升转数。
    - **孔位解锁**：根据新的材质阶级，解锁对应的镶嵌孔位。

### 3. 晋升路线图 (Progression Roadmap)

| **材质阶级** | **对应材料** | **转数门槛 (需达到)** | **飞升后转数上限** | **解锁孔位**                   |
| ------------ | ------------ | --------------------- | ------------------ | ------------------------------ |
| **🪵 木器**   | 木板         | **1 转**              | 锁定 1 转          | 无                             |
| **🪨 石器**   | 圆石         | **3 转**              | 解锁至 3 转        | ❤️ 1 伤害孔                     |
| **🥉 铜器**   | 铜锭         | **4 转**              | 解锁至 4 转        | ❤️ 1 伤害孔 (过渡期)            |
| **⛓️ 铁器**   | 铁锭         | **6 转**              | 解锁至 6 转        | ❤️ 1 伤害孔 + 💙 1 机制孔        |
| **👑 金器**   | 金锭         | **7 转**              | 解锁至 7 转        | ❤️ 2 伤害孔 + 💙 1 机制孔        |
| **💎 钻器**   | 钻石         | **9 转**              | 解锁至 9 转        | ❤️ 2 伤害孔 + 💙 2 机制孔        |
| **🔥 合金**   | 下界合金     | **∞**                 | 突破极限           | ❤️ 3 伤害 + 💙 2 机制 + ⚛️ 1 核心 |

------

## 二、 镶嵌系统：灵石插槽 (Socket System)

孔位与材质深度绑定，只有材质提升，“器量”增加，才能容纳更多的灵石。

### 1. 孔位分类

| **孔位类型**             | **图标标识** | **定义与功能**                               | **示例效果**                               |
| ------------------------ | ------------ | -------------------------------------------- | ------------------------------------------ |
| **⚔️ 伤害孔 (Attribute)** | 🔴 红色圆形   | **数值堆叠**。直接提升面板数据。             | 锋利、吸血、破甲、暴击率。                 |
| **⚙️ 机制孔 (Mechanism)** | 🟦 蓝色方形   | **形态改变**。改变攻击逻辑或赋予技能。       | 范围横扫、攻击距离+2、击退拉扯、连锁闪电。 |
| **⚛️ 核心孔 (Core)**      | 🟪 紫色菱形   | **终极质变**。下界合金专属，赋予规则级能力。 | 濒死无敌、攻击附带凋零、复活。             |

------

## 三、 灵石图鉴 (Gem List)

灵石分为三个品级：【碎裂】 -> 【完整】 -> 【完美】。

### A. 伤害类灵石 (放入 🔴)

1. **赤红石 (Ruby)**：攻击附带燃烧。
2. **吸血玛瑙 (Vampire Agate)**：造成伤害的 5% 转化为生命值。
3. **破军晶 (Armor Breaker)**：无视目标 20% 护甲。
4. **狂暴石 (Berserk Stone)**：每损失 10% 生命，攻击力 +1。
5. **致残毒玉 (Poison Jade)**：赋予中毒 II，且对中毒目标伤害加深。

### B. 机制类灵石 (放入 🟦)

1. **风灵纹章 (Wind Crest)**：**攻击距离 +1.5 格**。长枪的核心体验。
2. **横扫之核 (Sweep Core)**：**普攻变为 120° 扇形范围攻击**。
3. **引力磁石 (Magnetite)**：**右键技能**：将周围 5 格内的敌人拉向枪尖。
4. **雷霆印记 (Thunder Sigil)**：攻击 30% 概率触发连锁闪电。
5. **处决水晶 (Execute Crystal)**：对生命值 <20% 的普通敌人一击必杀。

------

## 四、 玩家体验流程 (User Journey)

1. **初入道途**：
    - 制作一把【木枪】。
    - 使用至破损 -> 修复 -> 获得【1转木枪】。
    - *瓶颈*：此时若木枪再次破损，修复后仍为1转（触碰枷锁）。
2. **筑基飞升**：
    - 将【1转木枪】放入重铸台，加入【圆石】。
    - **飞升成功**：获得【1转石枪】。
    - *反馈*：解锁了 **🔴 伤害孔**。玩家立刻挖矿镶嵌了一颗“碎裂赤红石”，长枪冒火了。
3. **历练积累**：
    - 带着石枪战斗，经历“破损-修复”的循环：1转 -> 2转 -> 3转。
    - 达到【3转石枪】时，再次触碰枷锁，无法继续提升。
4. **质变突破**：
    - 为了获得梦寐以求的“攻击距离增加”，玩家必须冲击铁器。
    - 将【3转石枪】+【铁锭】= **【3转铁枪】**。
    - *反馈*：枷锁解除（上限升至6转），且虽然现在只有3转，但只要继续练下去，就能解锁 **🟦 机制孔**。
5. **大成流派**：
    - 最终达到【9转钻器】，镶嵌了“风灵纹章（长手）”+“横扫之核（AOE）”+“吸血玛瑙（续航）”，单人站撸尸潮。

------

## 五、 待定问题 (Pending)

1. **拆卸损耗**：
    - *方案*：普通拆卸会破坏灵石（返还碎片）；使用“工匠钳”（消耗耐久）可完美拆卸。
2. **失败惩罚**：
    - 目前飞升是 100% 成功。后续是否考虑加入“飞升失败倒退一转”的硬核模式？（暂定不加入，以免挫败感过强）。
3. **铜的定位**：
    - 由于铜在原版中容易获取，将其作为石与铁之间的快速过渡阶级，仅增加耐久上限，不增加孔位。